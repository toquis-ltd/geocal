{"version":3,"sources":["reducers/popups.tsx","reducers/settings.tsx","reducers/histories.tsx","reducers/index.tsx","store/index.tsx","store/persist.ts","components/about/parseWKT.js","components/about/crs.tsx","components/about/intersection.tsx","components/about/index.tsx","actions/popups.tsx","components/common/popup/popup.jsx","icons/back-icon.jsx","icons/close-icon.jsx","components/common/popup/interface/menu-bar/menu.jsx","hooks/useMobileOnly.tsx","icons/search-icon.jsx","components/settings/crs-selector/popup/api.ts","hooks/useSearchBar.tsx","components/settings/crs-selector/popup/views/search/search.jsx","hooks/useCRS.tsx","actions/settings.tsx","components/settings/crs-selector/popup/views/search/item/item.jsx","hooks/useCRSelector.tsx","components/settings/crs-selector/popup/views/search/result/result.jsx","components/settings/crs-selector/popup/views/search/view.jsx","components/settings/crs-selector/popup/popup.jsx","components/common/button/index.jsx","components/settings/crs-selector/crs-selector.jsx","components/settings/parameters.js","components/settings/settings.jsx","icons/arrow-icon.jsx","calculation/format.js","calculation/conversion.js","components/converter/block/fields.jsx","hooks/useCRSUnity.tsx","components/converter/block/input.jsx","components/converter/block/output.jsx","components/converter/block/index.tsx","components/converter/index.tsx","App.tsx","index.tsx"],"names":["PopupReducer","state","isChanging","qwery","result","action","type","payload","SettingsReducer","modifiedCRS","source","target","HistoryReducer","rootReducer","combineReducers","popups","settings","history","throttle","require","persistantState","serializedState","localStorage","getItem","JSON","parse","err","loadState","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","subscribe","stringify","setItem","saveState","getState","cleanText","value","toRemove","RegExp","space","replace","parseProjection","wkt","projection","match","parseParameters","re","list","Array","from","matchAll","item","res","map","separator","split","i","name","lineToObject","console","log","AboutItem","data","useSelector","className","code","unityOfMeasure","kind","bounds","westBoundLon","eastBoundLon","northBoundLat","southBoundLat","ellipsoid","semiMajorAxis","invFlattening","coordinateSystem","dimension","datum","CrsIntersection","About","togglePopup","Popup","isOpen","children","ReactDOM","createPortal","document","getElementById","BackIcon","props","width","height","viewBox","style","transform","d","CloseIcon","Interface","onClose","isMobile","useState","innerWidth","toggleMobile","handleScreen","useEffect","addEventListener","removeEventListener","useMobileOnly","onClick","SearchIcon","getRequest","app","key","parrams","a","fetch","process","catch","json","quest","fetchTransfrom","point","parrameters","useSearchBar","dispatch","useDispatch","localState","handleLocalState","_","isEqual","fetchCRSList","then","setQwery","setResult","Search","qweryChange","handleResult","onChange","event","onKeyPress","e","useCRS","fetchAboutCRS","memo","element","wraper","useRef","origin","self","oppositName","useCRSelector","other","isAlreadySelected","toggleAlreadySelected","setCRS","ref","area","Result","findCRS","find","setFind","length","filter","elem","SearchView","CrsPopup","SelectBtn","parameters","CrsSelector","title","common","Settings","obj","index","Arrow","convertToDecimal","test","dms_list","toLowerCase","sign","Math","abs","m","parseFloat","s","undefined","Number","toFixed","toString","coordinate","Object","values","prop","response","x","y","z","proj4","Field","readOnly","placeholder","autoComplete","Fields","unity","includes","useCRSUnity","Input","prev","Output","PointConverter","onConvert","points","pointHandle","useCallback","FetchConvertion","current","Converter","App","render","StrictMode"],"mappings":"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","file":"static/js/main.abd85e65.chunk.js","sourcesContent":["\r\ntype State = {\r\n    isChanging: boolean,\r\n    qwery: String,\r\n    result: Array<any>,\r\n};\r\n\r\nconst PopupReducer = (state:State = {isChanging: false, qwery: '', result: [],} , action:any) => {\r\n    switch (action.type) {\r\n\r\n        case 'crs/toggle':\r\n            return {...state, isChanging:(!state.isChanging) };\r\n        \r\n        case 'crs/setQwery':\r\n            return {...state, qwery:action.payload};\r\n        \r\n        case 'crs/setResult':\r\n            return {...state, result:action.payload};\r\n\r\n        default:\r\n            return state;\r\n    };\r\n\r\n};\r\n\r\nexport default PopupReducer;","import CRS from '../@types/CRS';\r\n\r\ntype settings = {\r\n    modifiedCRS: 'source' | 'target',\r\n    source:CRS,\r\n    target:CRS,\r\n}\r\n\r\nconst SettingsReducer = (state:settings = {modifiedCRS:'source', source:{}, target:{}}, action:any) => {\r\n    switch (action.type) {\r\n        case 'setOrigin':\r\n            return {...state, modifiedCRS:action.payload}\r\n\r\n        case 'setCRS':\r\n            return {...state, [state.modifiedCRS]:action.payload}\r\n        \r\n        default:\r\n            return state;\r\n    };\r\n\r\n};\r\n\r\nexport default SettingsReducer;","const HistoryReducer = (state=false, action:any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    };\r\n\r\n};\r\n\r\nexport default HistoryReducer;","import { combineReducers,  } from \"redux\";\r\n\r\nimport PopupReducer from \"./popups\";\r\nimport SettingsReducer from \"./settings\";\r\nimport HistoryReducer from \"./histories\";\r\n\r\nconst rootReducer = combineReducers({\r\n    popups: PopupReducer,\r\n    settings: SettingsReducer,\r\n    history: HistoryReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport default rootReducer;","import { createStore } from '@reduxjs/toolkit'\r\nimport { saveState, loadState } from './persist';\r\n\r\n\r\nimport rootReducer from '../reducers';\r\n\r\nconst throttle = require('lodash.throttle');\r\n\r\nconst persistantState = loadState();\r\n\r\nconst store = createStore(\r\n        rootReducer,\r\n        persistantState,\r\n        (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\r\n        (window as any).__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\nstore.subscribe(throttle(() => {\r\n    saveState({\r\n            settings: store.getState().settings,\r\n        });\r\n    }, 1000));\r\n\r\nexport default store;","export const loadState = () => {\r\n    try {\r\n      const serializedState = localStorage.getItem('state');\r\n      if (serializedState === null) {\r\n        return undefined;\r\n      }\r\n      return JSON.parse(serializedState);\r\n    } catch (err) {\r\n      return undefined;\r\n    }\r\n  };\r\n  \r\nexport const saveState = (state:any) => {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('state', serializedState);\r\n\r\n};","function cleanText(value){\r\n    const toRemove = new RegExp(/\"/, 'g');\r\n    const space = new RegExp(/_/, 'g');\r\n    return value.replace(space, ' ').replace(toRemove, '')\r\n}\r\n\r\n\r\nexport function parseProjection(wkt) {\r\n    const re = /PROJECTION\\[(.*?)\\]/;\r\n    const projection = wkt.match(re)\r\n    if (projection)\r\n        return cleanText(projection[1])\r\n    return null\r\n}\r\n\r\nexport function parseParameters(wkt) {\r\n    const re = new RegExp(/PARAMETER\\[(.*?)\\]/, 'g');\r\n    const list = Array.from(wkt.matchAll(re), item => item[1]);\r\n\r\n    const lineToObject = value => {\r\n        const separator = new RegExp(/,/, 'g');\r\n        const item = value.split(separator).map(i => cleanText(i));\r\n        return {name:item[0], value:item[1]}\r\n    }\r\n\r\n    const res = list.map(value =>  lineToObject(value));\r\n    if (res)\r\n        return res\r\n    return []\r\n}\r\n\r\nconst wkt = \"PROJCS[\\\"Anguilla 1957 / British West Indies Grid\\\",\\n    GEOGCS[\\\"Anguilla 1957\\\",\\n        DATUM[\\\"Anguilla_1957\\\",\\n            SPHEROID[\\\"Clarke 1880 (RGS)\\\",6378249.145,293.465,\\n                AUTHORITY[\\\"EPSG\\\",\\\"7012\\\"]],\\n            AUTHORITY[\\\"EPSG\\\",\\\"6600\\\"]],\\n        PRIMEM[\\\"Greenwich\\\",0,\\n            AUTHORITY[\\\"EPSG\\\",\\\"8901\\\"]],\\n        UNIT[\\\"degree\\\",0.0174532925199433,\\n            AUTHORITY[\\\"EPSG\\\",\\\"9122\\\"]],\\n        AUTHORITY[\\\"EPSG\\\",\\\"4600\\\"]],\\n    PROJECTION[\\\"Transverse_Mercator\\\"],\\n    PARAMETER[\\\"latitude_of_origin\\\",0],\\n    PARAMETER[\\\"central_meridian\\\",-62],\\n    PARAMETER[\\\"scale_factor\\\",0.9995],\\n    PARAMETER[\\\"false_easting\\\",400000],\\n    PARAMETER[\\\"false_northing\\\",0],\\n    UNIT[\\\"metre\\\",1,\\n        AUTHORITY[\\\"EPSG\\\",\\\"9001\\\"]],\\n    AXIS[\\\"Easting\\\",EAST],\\n    AXIS[\\\"Northing\\\",NORTH],\\n    AUTHORITY[\\\"EPSG\\\",\\\"2000\\\"]]\"\r\nconsole.log(parseProjection(wkt));","import { useSelector } from \"react-redux\"\r\nimport { RootState } from \"reducers\"\r\n\r\nimport {parseProjection, parseParameters} from './parseWKT'\r\n\r\ntype Props  = {\r\n    name: 'source' | 'target'\r\n}\r\n\r\nexport default function AboutItem({name}:Props) {\r\n    const data = useSelector(({settings}:RootState)=>settings[name])\r\n    return (\r\n            <div className={`about__colomn about__colomn-crs about__colomn-${name}`}>\r\n                <h4 className='about__colomn-title'> About {name} coordinate referance system </h4>\r\n                <div className=\"about__base\">\r\n                    <h4 className=\"about__block-title\">Base:</h4>\r\n                    <ul className=\"about__list\">\r\n                        <li className=\"about__description about__name\">Name: {data.name}</li>\r\n                        <li className=\"about__description about__code\">EPSG: {data.code}</li>\r\n                        <li className=\"about__description about__kind\">Unity: {data.unityOfMeasure}</li>\r\n                        <li className=\"about__description about__kind\">Kind: {data.kind}</li>\r\n                        <li className=\"about__description about__bounds\">\r\n                            WGS84 borders:\r\n                            <ul className=\"about__list\">\r\n                                <li className=\"about__bounds-item\">west: {data.bounds?.westBoundLon} - east:{data.bounds?.eastBoundLon}</li>\r\n                                <li className=\"about__bounds-item\">north: {data.bounds?.northBoundLat} - south: {data.bounds?.southBoundLat}</li>\r\n                            </ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"about__advance\">\r\n                    <h4 className=\"about__block-title\">Advance:</h4>\r\n                    <ul className=\"about__list\">\r\n                        { (data.ellipsoid) ?\r\n                            <li className=\"about__description about__code\">\r\n                                Elipsoid: {data.ellipsoid.name}\r\n                                <ul className=\"about__list about__elispoid\">\r\n                                    <li className=\"about__bounds-item\">Semi major axis: {data.ellipsoid.semiMajorAxis}</li>\r\n                                    <li className=\"about__bounds-item\">Inverse flattening: {data.ellipsoid.invFlattening}</li>\r\n                                </ul>\r\n                            </li>:null\r\n                        }\r\n                    </ul>\r\n                    <ul className=\"about__list\">\r\n                        { (data.coordinateSystem) ?\r\n                            <li className=\"about__description about__code\">\r\n                                Coordinate System:\r\n                                <ul className=\"about__list about__elispoid\">\r\n                                    <li className=\"about__bounds-item\">Name: {data.coordinateSystem.name}</li>\r\n                                    <li className=\"about__bounds-item\">Type: {data.coordinateSystem.type}</li>\r\n                                    <li className=\"about__bounds-item\">Dimension: {data.coordinateSystem.dimension}</li>\r\n                                </ul>\r\n                            </li>:null\r\n                        }\r\n                    </ul>\r\n                    <ul className=\"about__list\">\r\n                        { (data.datum) ?\r\n                            <li className=\"about__description about__code\">\r\n                                Datum:\r\n                                <ul className=\"about__list about__elispoid\">\r\n                                    <li className=\"about__bounds-item\">Name: {data.datum.name}</li>\r\n                                    <li className=\"about__bounds-item\">Type: {data.datum.type}</li>\r\n                                    {\r\n                                        (parseProjection(data?.wkt)) ? \r\n                                        <li className=\"about__bounds-item\">Projection: {parseProjection(data?.wkt)}</li>:null\r\n                                    }\r\n                                    { parseParameters(data?.wkt)?.map(item =><li className=\"about__bounds-item\">{item.name}: {item.value}</li>)}\r\n                                    \r\n                                </ul>\r\n                            </li>:null\r\n                        }\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n    )\r\n}","export default function CrsIntersection() {\r\n    return (\r\n            <div className={`about__colomn about__colomn-intersection`}>\r\n                <h4 className='about__colomn-title'>Intersection</h4>\r\n            </div>\r\n    )\r\n}","import CrsDecription from './crs'\r\nimport CrsIntersection from './intersection'\r\n\r\nimport './index.sass';\r\n\r\nexport default function About() {\r\n\r\n    return (\r\n        <div className='converter__about-transformation about'>\r\n            <div className=\"about__inner\">\r\n                <CrsDecription name='source' key={1}/>\r\n                <CrsIntersection />\r\n                <CrsDecription name='target' key={5}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const setQwery = (value:String) => {\r\n    return {\r\n        type: 'crs/setQwery',\r\n        payload: value\r\n    }\r\n}\r\n\r\nexport const setResult = (value:any) => {\r\n    return {\r\n        type: 'crs/setResult',\r\n        payload:  value\r\n    }\r\n}\r\n\r\nexport const togglePopup = (state:boolean) => {\r\n    return {\r\n        type: 'crs/toggle',\r\n        payload: state\r\n    }\r\n}","import ReactDOM from 'react-dom';\r\nimport './popup.css';\r\n\r\nfunction Popup ({isOpen, children}) {\r\n  if (!isOpen) return null;\r\n  return ReactDOM.createPortal (\r\n    <div className='popup'>\r\n      <div className={`popup__inner`} >\r\n        {children}\r\n      </div>\r\n    </div>,\r\n    document.getElementById('popup')\r\n    );\r\n}\r\n\r\nexport default Popup;","function BackIcon(props) {\r\n    return (\r\n        <svg width='15' height='15' viewBox=\"0 0 492.004 492.004\" {...props} style={{transform: 'scaleX(-1)'}}>\r\n\t\t    <path d=\"M484.14,226.886L306.46,49.202c-5.072-5.072-11.832-7.856-19.04-7.856c-7.216,0-13.972,2.788-19.044,7.856l-16.132,16.136\r\n                c-5.068,5.064-7.86,11.828-7.86,19.04c0,7.208,2.792,14.2,7.86,19.264L355.9,207.526H26.58C11.732,207.526,0,219.15,0,234.002\r\n                v22.812c0,14.852,11.732,27.648,26.58,27.648h330.496L252.248,388.926c-5.068,5.072-7.86,11.652-7.86,18.864\r\n                c0,7.204,2.792,13.88,7.86,18.948l16.132,16.084c5.072,5.072,11.828,7.836,19.044,7.836c7.208,0,13.968-2.8,19.04-7.872\r\n                l177.68-177.68c5.084-5.088,7.88-11.88,7.86-19.1C492.02,238.762,489.228,231.966,484.14,226.886z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default BackIcon;","function CloseIcon(props) {\r\n    return (\r\n        <svg height=\"10px\" width=\"10px\" viewBox=\"0 0 329.26933 329\">\r\n            <path d=\"m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 \r\n                    0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 \r\n                    128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 \r\n                    0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 \r\n                    128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 \r\n                    15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 \r\n                    128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 \r\n                    15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default CloseIcon;","import { useMobileOnly } from 'hooks/useMobileOnly';\r\n\r\nimport BackIcon from '../../../../../icons/back-icon';\r\nimport CloseIcon from '../../../../../icons/close-icon';\r\n\r\nimport '../common.sass';\r\nimport './menu.sass';\r\n\r\nfunction Interface({onClose}) {\r\n        const isMobile = useMobileOnly();\r\n        return (\r\n                <div className=\"popup__menu-bar\">\r\n                        <button \r\n                        className='popup__close-btn'\r\n                        onClick={onClose}>\r\n                                { (isMobile) ? <><BackIcon/><span>Back</span></> : <CloseIcon/> }\r\n                        </button>\r\n                </div>\r\n        );\r\n}\r\n\r\nexport default Interface;","import { useState, useEffect } from \"react\";\r\n\r\nexport function useMobileOnly () {\r\n    const size = 1024; // this is the limit of screen size for a desktop\r\n    const [isMobile, toggleMobile] =  useState(window.innerWidth <= size);\r\n    const handleScreen = () => toggleMobile(window.innerWidth <= size);\r\n\r\n    useEffect(() => {\r\n            window.addEventListener('resize', handleScreen);\r\n            return () => window.removeEventListener('resize', handleScreen);\r\n    }, []);\r\n\r\n    return isMobile\r\n}","function SearchIcon(props) {\r\n    return (\r\n        <svg width=\"15px\" height=\"12px\" viewBox=\"0 0 612.01 612.01\" {...props}>\r\n            <path d=\"M606.209,578.714L448.198,423.228C489.576,378.272,515,318.817,515,253.393C514.98,113.439,399.704,0,257.493,0\r\n                        C115.282,0,0.006,113.439,0.006,253.393s115.276,253.393,257.487,253.393c61.445,0,117.801-21.253,162.068-56.586\r\n                        l158.624,156.099c7.729,7.614,20.277,7.614,28.006,0C613.938,598.686,613.938,586.328,606.209,578.714z M257.493,467.8\r\n                        c-120.326,0-217.869-95.993-217.869-214.407S137.167,38.986,257.493,38.986c120.327,0,217.869,95.993,217.869,214.407\r\n                        S377.82,467.8,257.493,467.8z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default SearchIcon;","async function getRequest(app:String, key:String, parrams:string | number) {\r\n    return (await fetch(`${process.env.REACT_APP_HOST}/api/${app}/?format=json&${key}=${parrams}`).catch()).json();\r\n}\r\n\r\nexport async function fetchCRSList(quest:string){\r\n    return await getRequest('search', 'q', quest);\r\n}\r\n\r\nexport async function fetchAboutCRS(code:number) {\r\n    return await getRequest('about', 'crs',  code);\r\n}\r\n\r\nexport async function fetchTransfrom(source:number, target:number, point:Array<any>) {\r\n    const parrameters = `?format=json&s_crs=${source}&t_crs=${target}&x=${point[0]}&y=${point[1]}&z=${point[2]}`;\r\n    return await (await fetch(`${process.env.REACT_APP_HOST}/api/transform/${parrameters}`).catch()).json();\r\n}","import { useEffect, useState } from \"react\";\r\nimport { DefaultRootState, useDispatch, useSelector } from \"react-redux\";\r\nimport _ from 'underscore';\r\n\r\nimport { setQwery, setResult } from \"actions/popups\";\r\n\r\nimport { fetchCRSList } from \"components/settings/crs-selector/popup/api\";\r\n\r\nexport default function useSearchBar() {\r\n    const dispatch = useDispatch();\r\n    const [localState, handleLocalState] = useState<string>('');\r\n    const state = useSelector(({popups}:DefaultRootState) => popups.qwery, _.isEqual);\r\n    const fetchListHandle = (value?:string) => {\r\n        fetchCRSList(value || localState).then(res => {\r\n            dispatch(setQwery(value || localState));\r\n            dispatch(setResult(res));\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        handleLocalState(state);\r\n    }, [state])\r\n    return [localState, handleLocalState, fetchListHandle]\r\n}","import { memo } from 'react';\r\n\r\nimport SearchIcon from 'icons/search-icon';\r\nimport CloseIcon from 'icons/close-icon';\r\n\r\nimport useSearchBar from 'hooks/useSearchBar';\r\n\r\nimport './search.sass';\r\n\r\nexport default function Search() {\r\n    const [qwery, qweryChange, handleResult] = useSearchBar();\r\n    const clearQwery = () => qweryChange('');\r\n\r\n    return (\r\n        <div className='search'>\r\n            <div className='search__inner'>\r\n                <div className=\"search__bar\">\r\n                    <div className=\"search__bar-inner\">\r\n                        <input \r\n                            className='search__field' \r\n                            onChange={event=>qweryChange(event.target.value)} \r\n                            onKeyPress={e=> e.key==='Enter' && handleResult(qwery)}\r\n                            value={qwery}/>\r\n                        {qwery && <button className='search__btn search__btn-clear' onClick={clearQwery}><CloseIcon/></button> }\r\n                        <button className='search__btn search__btn-find' onClick={()=>handleResult(qwery)}><SearchIcon/></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"search__filters\">\r\n                    <div className=\"search__uom\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import CRS from '../@types/CRS'\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchAboutCRS } from \"components/settings/crs-selector/popup/api\";\r\nimport { setCRS } from \"actions/settings\";\r\n\r\ninterface Selected extends CRS {\r\n    code:number,\r\n}\r\n\r\nexport default function useCRS () {\r\n    const dispatch = useDispatch();\r\n    const set = (item:Selected) => {\r\n        fetchAboutCRS(item?.code).then((res:any)=>{\r\n            dispatch(setCRS({...res}));\r\n        });\r\n    };\r\n    return set\r\n}","type crsHeandler = {\r\n    type: string,\r\n    payload: payload\r\n};\r\n\r\ntype payload = {\r\n        name: string,\r\n        code?: number,\r\n        uom?: string,\r\n        area?: string,\r\n        proj4?: string,\r\n};\r\n\r\ntype origin = 'source' | 'target'\r\n\r\nexport const setCRS = (payload:payload):crsHeandler => {\r\n    return {\r\n        type: 'setCRS',\r\n        payload: {...payload}\r\n    };\r\n};\r\n\r\nexport const setOrigin = (payload:origin) => {\r\n    return {\r\n        type: 'setOrigin',\r\n        payload: payload\r\n    }\r\n}","import { useRef, memo, useEffect, useState } from 'react';\r\nimport useCRSelector from 'hooks/useCRSelector';\r\nimport { togglePopup } from 'actions/popups';\r\n\r\nimport useCRS  from 'hooks/useCRS';\r\n\r\nimport './item.sass'\r\nimport { useDispatch } from 'react-redux';\r\n\r\n\r\nexport default memo(function CrsItem({element}) {\r\n    const wraper =  useRef(null);\r\n    const item = useRef(null);\r\n    \r\n\r\n    const dispatch = useDispatch();\r\n    const closeWindow = () => dispatch(togglePopup(false));\r\n    const [self, other, origin] = useCRSelector();\r\n    const [isAlreadySelected, toggleAlreadySelected] = useState(false)\r\n    useEffect(()=>toggleAlreadySelected(self?.code===element.code || other?.code === element.code), [self, other])\r\n    const setCRS = useCRS();\r\n    const handleSelect = () => {\r\n        setCRS(element);\r\n        closeWindow();\r\n    }\r\n    return (\r\n        <div className={`result__item ${(isAlreadySelected) ? 'result__item--selected':null }`} \r\n             key={element.code} ref={wraper} onClick={handleSelect} ref={item}>\r\n                <div className=\"result__item-about\" >\r\n                    <h3 className='result__item-title'>{element.name} {(isAlreadySelected) ? <span style={{\"color\":\"red\"}}>Selected</span>:null } </h3>\r\n                    <h4 className='result__item-description result__item-description--area'>Area: {element.area}</h4>\r\n                    <h4 className='result__item-description result__item-description--unity'>Unity: {element.unityOfMeasure}</h4>\r\n                    <h4 className='result__item-description result__item-description--code'>EPSG Code: {element.code}</h4>\r\n                </div>\r\n        </div > \r\n    );\r\n});","import { useSelector } from \"react-redux\";\r\nimport { RootState } from \"reducers\";\r\n\r\nexport default function useCRSelector(){\r\n    \r\n    const _origin = useSelector(({settings}:RootState) => settings.modifiedCRS);\r\n    const origin = (_origin === 'source') ? 'source' : 'target';\r\n\r\n    const self = useSelector((state:RootState) => state.settings[origin]);\r\n    \r\n    const oppositName = origin === 'source' ? 'target' : 'source';\r\n    const other = useSelector((state:RootState)  => state.settings[oppositName]);\r\n\r\n    return [self, other, origin];\r\n}","import { useEffect, useState} from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport _ from 'underscore';\r\n\r\nimport CrsItem from '../item/item';\r\n\r\nimport './result.sass';\r\n\r\nexport default function Result () {\r\n    const settings = useSelector(state => state.settings, _.isEqual);\r\n    const result = useSelector(state => state.popups.result);\r\n    const [find, setFind] = useState(result?.findCRS);\r\n\r\n    useEffect(() => {\r\n        if (settings?.modifiedCRS === 'target' && result?.findCRS?.length > 1) {\r\n            const data = find?.filter(item => item.code !== settings.source.code);\r\n            setFind(data);\r\n        }\r\n        setFind(result?.findCRS)\r\n    }, [result?.findCRS, find, settings])\r\n\r\n    return(\r\n        <div className='result'>\r\n                <div className=\"result__inner\">\r\n                    {\r\n                        find?.map((elem) => <CrsItem element={elem} key={elem.code} /> )\r\n                    }\r\n                </div>\r\n        </div>\r\n    )\r\n}","import {memo} from 'react';\r\n\r\nimport Search from './search';\r\nimport Result from './result/result';\r\n\r\nimport './view.sass';\r\n\r\nexport default function SearchView() {\r\n    return (\r\n        <div className=\"view__search\">\r\n            <Search />\r\n            <Result />\r\n        </div>\r\n    );\r\n};","import { useSelector } from 'react-redux';\r\n\r\nimport Popup from 'components/common/popup/popup';\r\nimport Interface from 'components/common/popup/interface/menu-bar/menu';\r\n\r\nimport SearchView from './views/search/view';\r\nimport GlobeView from './views/globe/view';\r\n\r\nimport './popup.sass';\r\n\r\nfunction CrsPopup({ onClose }) {\r\n    const state = useSelector(state => state.popups.isChanging);\r\n\r\n    return (\r\n        <Popup isOpen={state}>\r\n            <Interface onClose={onClose}/>\r\n            <div className=\"view\">\r\n                <div className=\"view__inner\">\r\n                    <SearchView />\r\n                </div>\r\n            </div>\r\n        </Popup>\r\n    )\r\n}\r\n\r\nexport default CrsPopup;","import { useSelector } from 'react-redux';\r\n\r\nimport './button.sass';\r\n\r\n\r\nfunction SelectBtn ({onClick, parameters}) {\r\n    const self = useSelector(state => state.settings[parameters.origin]);\r\n    const oppositName = parameters.origin==='source' ? 'target':'source';\r\n    const other = useSelector(state => state.settings[oppositName]);\r\n    \r\n    return (\r\n        <button className='selector__btn' onClick={onClick}>\r\n            { (self.name && self.name === other.name) ? self.name + ' EPSG code:' + self.code : self.name || 'Click to select CRS' }\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default SelectBtn;","import { useDispatch } from 'react-redux';\r\n\r\nimport { togglePopup } from '../../../actions/popups';\r\nimport { setOrigin } from '../../../actions/settings';\r\n\r\nimport CrsPopup from './popup/popup';\r\nimport SelectBtn from 'components/common/button';\r\n\r\nimport './crs-selector.css';\r\n\r\nexport default function CrsSelector ({parameters}) {\r\n    const dispatch = useDispatch();\r\n\r\n    const closePopup = () => dispatch(togglePopup(false));\r\n    const openPopup = () => {\r\n        dispatch(togglePopup(true));\r\n        dispatch(setOrigin(parameters.origin))\r\n    }\r\n    return (\r\n        <div className='selector'>\r\n            <div className='selector__header'>\r\n                <h3 className=\"field-title selector__title\">{parameters.title}</h3>\r\n            </div>\r\n            <div className='selector__container'>\r\n                <SelectBtn onClick={openPopup} parameters={parameters}/>\r\n            </div>\r\n            <div className='selector__footer'>\r\n            </div>\r\n            <CrsPopup onClose={closePopup}/>\r\n        </div>\r\n    );\r\n};","const common = {\r\n    title: ' coordinate reference system'\r\n};\r\n\r\nexport const source = {\r\n    title:('Source'+common.title),\r\n    origin: 'source',\r\n};\r\n\r\nexport const target = {\r\n    title:('Target'+common.title),\r\n    origin: 'target',\r\n};","import './settings.css';\r\n\r\nimport CrsSelector from './crs-selector/crs-selector'\r\nimport {source, target} from './parameters.js';\r\n\r\nfunction Settings() {\r\n    \r\n    return (\r\n        <div className=\"converter__settings\">\r\n            {[source, target].map((obj, index)=><CrsSelector parameters={obj} key={index}/>)}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;","export default function Arrow(){\r\n    return (\r\n        <svg width=\"15px\" height=\"10px\" viewBox=\"0 0 612.01 612.01\">\r\n            <path d=\"M509.035,248.212l-213.504-212.8c-3.051-3.029-7.595-3.904-11.627-2.304c-3.989,1.664-6.571,5.547-6.571,9.856v117.333\r\n\t\t\tH10.667C4.779,160.298,0,165.076,0,170.964v170.667c0,5.888,4.779,10.667,10.667,10.667h266.667v116.885\r\n\t\t\tc0,4.309,2.603,8.192,6.592,9.856c1.323,0.555,2.709,0.811,4.075,0.811c2.773,0,5.504-1.088,7.552-3.115l213.504-213.419\r\n\t\t\tc2.005-2.005,3.115-4.715,3.115-7.552C512.171,252.927,511.04,250.218,509.035,248.212z\"/>\r\n        </svg>\r\n    )\r\n} ","export function convertToDMS (value, m = 0, s = 0)  {\r\n    value = value.toString();\r\n    if (value.length === 0) return \"0째0'0\"  \r\n    if (/'|\"/.test(value) === true) return value\r\n    \r\n    let d = value.split(\".\")[0];\r\n    if (value.split(\".\").length>1)\r\n    {\r\n      m = parseInt((\".\"+(value.split(\".\")[1]))*60);\r\n      s = Number((\".\"+(value.split(\".\")[1])-m/60)*3600).toFixed(6).replace(/(\\.0+|0+)$/, '');\r\n    }\r\n    return `${d}째${m}'${s}`\r\n};\r\n\r\nexport function convertToDecimal (value)  {\r\n    \r\n    // exception case  \r\n    if (value.length === 0) return '0'; // if value is empty\r\n    if (/'|\"/.test(value) === false) return value; // if value doesn't contain any separator\r\n    \r\n    //prepare value\r\n    value.replace('\"', ''); // \r\n    value = value.toLowerCase(); //\r\n\r\n    //if 'w' or 'e' char in value\r\n    //when remove it and transform to oposit digit\r\n    const chartRe = /w|e/g;\r\n    let  dms_list = value.split(/째|'|\"/);\r\n    let sign = Math.sign(Math.sign(dms_list[0])*2+1);\r\n\r\n    if (chartRe.test(value)){\r\n      value = value.replace(/w|e/g, '');\r\n      dms_list = value.split(/째|'|\"/);\r\n      sign*=-1;\r\n    }\r\n\r\n    //convert \r\n    const d = Math.abs(dms_list[0]);\r\n    const m = parseFloat(dms_list[1]/60);\r\n    const s = (dms_list[2] !== undefined) ? parseFloat(dms_list[2]/3600):0;\r\n    return Number((d+m+s)*sign).toFixed(10).replace(/(\\.0+|0+)$/, '').toString();\r\n};","import proj4 from 'proj4';\r\nimport {fetchTransfrom} from 'components/settings/crs-selector/popup/api'\r\nimport {convertToDecimal} from './format'\r\n\r\nexport default async function FetchConvertion(source, target, point) {\r\n    const coordinate = Object.values(point)\r\n                                            .filter(value=> value.length > 0)\r\n                                            .map(prop=>convertToDecimal(prop))\r\n                                            .map(i => parseFloat(parseFloat(i).toFixed(8)))\r\n    var response;\r\n    await transform(source, target, coordinate).then(res => response=res);\r\n    return {x:response[0], y:response[1], z:response[2]}\r\n}\r\n\r\nasync function transform(source, target, coordinate) {\r\n    let response;\r\n    switch (coordinate.length) {\r\n        default:\r\n            response = ['-', '-', '-'];\r\n            break\r\n        case (3):\r\n            response = Object.values(await fetchTransfrom(source.code, target.code, coordinate)).map(value => value.toString())\r\n            break\r\n        case (2):\r\n            response = proj4(source.proj4, target.proj4, coordinate).map(item => item.toFixed(8).toString());\r\n            break\r\n    }\r\n    return response;\r\n}","import useCRSUnity from \"hooks/useCRSUnity\";\r\n\r\nfunction Field({className, name, point, readOnly, placeholder, onChange}) {\r\n    return (\r\n        <input \r\n            className={`${className}-coordinate__field fields__item-field`}\r\n            onChange={onChange}\r\n            name={name}\r\n            value={point[name] || \"\"}\r\n            placeholder={placeholder}\r\n            autoComplete=\"off\"\r\n            readOnly={readOnly}\r\n            type='tel'/>\r\n\r\n    )\r\n};\r\n\r\nexport function Fields ({name, point, origin, onChange=()=>null}) {\r\n    const unity = useCRSUnity(origin);\r\n    const readOnly = name !== 'input'\r\n    return (\r\n        <div className={`${name}-fields__container fields__container`}>\r\n            \r\n            <Field className={name} name='x' onChange={onChange} point={point} readOnly={readOnly} placeholder={unity[0]}/>\r\n            <Field className={name} name='y' onChange={onChange} point={point} readOnly={readOnly} placeholder={unity[1]}/>\r\n            <Field className={name} name='z' onChange={onChange} point={point} readOnly={readOnly} placeholder={unity[2]}/>\r\n        </div>\r\n        )\r\n}","import { DefaultRootState, useSelector } from \"react-redux\"\r\n\r\ntype crs = 'source' | 'target'\r\n\r\nexport default function useCRSUnity (origin:crs) {\r\n    const unity = useSelector(({settings}:DefaultRootState) => settings[origin].unityOfMeasure)\r\n    const deglist = ['degree', 'unknown', 'sexagesimal', ' DMS.s'];\r\n    if (deglist.includes(unity+'')) return ['Longitude', 'Latitude', 'Altitude'];\r\n    return ['X', 'Y', 'Z'];\r\n}","import { Fields } from \"./fields\";\r\n\r\nexport function Input ({point, onChange}) {\r\n    const handleChange = event => {\r\n      onChange(prev => ({...prev, source:{...point, [event.target.name]:event.target.value}}));\r\n    }\r\n    return (\r\n      <div className=\"input-fields\">\r\n        <div className=\"input-fields__header\">\r\n        </div>\r\n        <div className=\"input-fields__container fields__container\">\r\n          <Fields name='input' point={point} origin={'source'} onChange={handleChange} />\r\n        </div>\r\n      </div>\r\n    )\r\n}","import { Fields } from './fields'\r\nexport function Output ({point}) {\r\n  return ( <div className=\"output-fields\">\r\n        <div className=\"output-fields__header\">\r\n        </div>\r\n        <div className=\"output-fields__container fields__container\">\r\n            <Fields name='output' point={point} origin='target' />\r\n        </div>\r\n      </div>\r\n    )\r\n}","import {useCallback, useState, useEffect } from 'react';\r\nimport { DefaultRootState, useSelector } from 'react-redux';\r\n\r\nimport  Arrow  from 'icons/arrow-icon'\r\nimport FetchConvertion from 'calculation/conversion';\r\n\r\nimport { Input } from './input.jsx';\r\nimport { Output } from './output.jsx';\r\n\r\nimport './block.sass';\r\n\r\ntype Points = {\r\n  source: Point,\r\n  target: Point\r\n};\r\n\r\ntype Point = {\r\n  x?: string\r\n  y?: string\r\n  z?: string\r\n\r\n};\r\ntype Props = {\r\n  onConvert: {\r\n    current: Function | null\r\n  } \r\n}\r\n\r\nexport function PointConverter ({onConvert}:Props) {\r\n  const [points, pointHandle] = useState<Points>({source:{}, target:{}})\r\n  const source = useSelector(({settings}:DefaultRootState)=>settings.source);\r\n  const target = useSelector(({settings}:DefaultRootState)=>settings.target);\r\n  const transform = useCallback(()=>{\r\n    if (source !== undefined && target !== undefined) {\r\n      FetchConvertion(source, target, points.source).then(res=>{\r\n        pointHandle({...points, target:res})\r\n      })\r\n    }\r\n  }, [source, target, points]);\r\n\r\n  useEffect(()=>{\r\n    onConvert.current = transform\r\n  }, [onConvert, transform])\r\n\r\n  return (\r\n    <div className=\"point-converter__colomn\">\r\n      <Input point={points.source} onChange={pointHandle}/>\r\n      <Arrow />\r\n      <Output point={points.target}/>\r\n    </div>\r\n  )\r\n};","import { useRef } from 'react'\r\nimport { PointConverter } from './block'\r\nimport './index.sass'\r\n\r\nexport default function Converter () {\r\n    const onConvert = useRef<Function | null>(null);\r\n    const onClick = () => (onConvert.current!==null) ? onConvert.current():null\r\n    return (\r\n        <div className='point-converter'>\r\n            <h3 className=\"field-title\">\r\n                Point Converter\r\n            </h3>\r\n            <div className=\"point-converter__inner\">\r\n                <div className=\"point-converter__items\">\r\n                   <PointConverter onConvert={onConvert}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"point-converter__buttons-list\">\r\n                <button className='base__button point-converter__button share-btn' > Report </button>\r\n                <button className='base__button point-converter__button convert-btn' onClick={onClick}> Convert </button>\r\n                <button className='base__button point-converter__button share-btn' > Share link </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import About from './components/about';\nimport Settings from './components/settings/settings';\nimport Converter from './components/converter';\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className='converter'>\n      <div className=\"application\">\n        <Settings/>\n        <Converter/>\n      </div>\n      <About/>\n    </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport App from './App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>\n  ,\n  document.getElementById('root')\n);"],"sourceRoot":""}